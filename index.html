<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>oogl.js by 71104</title>
    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script src="javascripts/respond.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!--[if lt IE 8]>
    <link rel="stylesheet" href="stylesheets/ie.css">
    <![endif]-->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

  </head>
  <body>
      <div id="header">
        <nav>
          <li class="fork"><a href="https://github.com/71104/oogl.js">View On GitHub</a></li>
          <li class="downloads"><a href="https://github.com/71104/oogl.js/zipball/master">ZIP</a></li>
          <li class="downloads"><a href="https://github.com/71104/oogl.js/tarball/master">TAR</a></li>
          <li class="title">DOWNLOADS</li>
        </nav>
      </div><!-- end header -->

    <div class="wrapper">

      <section>
        <div id="title">
          <h1>oogl.js</h1>
          <p>A thin object-oriented layer above WebGL.</p>
          <hr>
          <span class="credits left">Project maintained by <a href="https://github.com/71104">71104</a></span>
          <span class="credits right">Hosted on GitHub Pages &mdash; Theme by <a href="https://twitter.com/michigangraham">mattgraham</a></span>
        </div>

        <h1>
<a name="oogljs" class="anchor" href="#oogljs"><span class="octicon octicon-link"></span></a>oogl.js</h1>

<p>A thin object-oriented layer above WebGL.</p>

<p>OOGL provides an extended GL context that adds object-oriented features allowing you to make GL calls more easily while keeping maximum possible performance.</p>

<p>OOGL is not another scene graph library: OOGL strongly focuses on performance and lets you do exactly what you would do in plain WebGL, just easier.</p>

<p>See the <a href="http://71104.github.com/oogl.js/doc/">OOGL API Reference</a>, <a href="https://github.com/71104/oogl.js/wiki/Getting-Started-with-OOGL">Tutorials</a> and <a href="http://71104.github.com/oogl.js/demos/">Demos</a>.</p>

<h1>
<a name="download" class="anchor" href="#download"><span class="octicon octicon-link"></span></a>Download</h1>

<h2>
<a name="current-version" class="anchor" href="#current-version"><span class="octicon octicon-link"></span></a>Current version</h2>

<p>The latest version is <a href="https://github.com/71104/oogl.js/tree/1.0.0">1.0.0</a> (<a href="https://github.com/71104/oogl.js/archive/1.0.0.zip">zip</a>, <a href="https://github.com/71104/oogl.js/archive/1.0.0.tar.gz">tar</a>).</p>

<h1>
<a name="getting-started" class="anchor" href="#getting-started"><span class="octicon octicon-link"></span></a>Getting started</h1>

<p>To get started with OOGL, include it using a <code>&lt;script&gt;</code> tag in the <code>&lt;head&gt;</code> of your document:</p>

<div class="highlight highlight-html"><pre><span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span> <span class="na">src=</span><span class="s">"oogl-1.0.0.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
</pre></div>

<p>Then place a <code>&lt;canvas&gt;</code> in your DOM and create an OOGL context through JavaScript:</p>

<div class="highlight highlight-html"><pre><span class="nt">&lt;canvas</span> <span class="na">id=</span><span class="s">"canvas"</span> <span class="na">width=</span><span class="s">"800"</span> <span class="na">height=</span><span class="s">"600"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;p&gt;</span>No browser support.<span class="nt">&lt;/p&gt;</span>
<span class="nt">&lt;/canvas&gt;</span>
<span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span><span class="nt">&gt;</span>
<span class="nx">OOGL</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">oogl</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">OOGL</span><span class="p">.</span><span class="nx">Context</span><span class="p">(</span><span class="s1">'canvas'</span><span class="p">);</span>

    <span class="c1">// example GL calls</span>
    <span class="nx">oogl</span><span class="p">.</span><span class="nx">clearColor</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
    <span class="nx">oogl</span><span class="p">.</span><span class="nx">clear</span><span class="p">(</span><span class="nx">oogl</span><span class="p">.</span><span class="nx">COLOR_BUFFER_BIT</span><span class="p">);</span>
    <span class="nx">oogl</span><span class="p">.</span><span class="nx">flush</span><span class="p">();</span>
<span class="p">});</span>
<span class="nt">&lt;/script&gt;</span>
</pre></div>

<p>The <code>oogl</code> object now contains all the WebGL functions a normal <code>gl</code> object would contain, plus OOGL-specific features.</p>

<h1>
<a name="the-first-triangle" class="anchor" href="#the-first-triangle"><span class="octicon octicon-link"></span></a>The first triangle</h1>

<p>Drawing with OOGL is easier than doing it with plain WebGL.</p>

<p>Let's first create a pair of shaders. Here's the vertex one:</p>

<div class="highlight highlight-glsl"><pre><span class="k">precision</span> <span class="k">mediump</span> <span class="k">float</span><span class="p">;</span>

<span class="k">attribute</span> <span class="k">vec2</span> <span class="n">in_Vertex</span><span class="p">;</span>

<span class="k">void</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">gl_Position</span> <span class="o">=</span> <span class="k">vec4</span><span class="p">(</span><span class="n">in_Vertex</span><span class="p">,</span> <span class="mo">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>

<p>And the fragment one:</p>

<div class="highlight highlight-glsl"><pre><span class="k">precision</span> <span class="k">mediump</span> <span class="k">float</span><span class="p">;</span>

<span class="k">void</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">gl_FragColor</span> <span class="o">=</span> <span class="k">vec4</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>

<p>Assume they are called <code>test.vert</code> and <code>test.frag</code>, respectively, and they are located in the same directory as the HTML page.</p>

<p>The OOGL calls needed to create a vertex array, load the shaders and make the drawing are as follows:</p>

<div class="highlight highlight-javascript"><pre><span class="nx">OOGL</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">oogl</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">OOGL</span><span class="p">.</span><span class="nx">Context</span><span class="p">(</span><span class="s1">'canvas'</span><span class="p">);</span>
    <span class="nx">oogl</span><span class="p">.</span><span class="nx">clearColor</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
    <span class="nx">oogl</span><span class="p">.</span><span class="nx">clear</span><span class="p">(</span><span class="nx">oogl</span><span class="p">.</span><span class="nx">COLOR_BUFFER_BIT</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">array</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">oogl</span><span class="p">.</span><span class="nx">AttributeArray2</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s1">'float'</span><span class="p">,</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">]);</span>
    <span class="nx">array</span><span class="p">.</span><span class="nx">bindAndPointer</span><span class="p">();</span>
    <span class="kd">var</span> <span class="nx">program</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">oogl</span><span class="p">.</span><span class="nx">AjaxProgram</span><span class="p">(</span><span class="s1">'test'</span><span class="p">,</span> <span class="p">[</span><span class="s1">'in_Vertex'</span><span class="p">],</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="nx">program</span><span class="p">.</span><span class="nx">use</span><span class="p">();</span>
        <span class="nx">oogl</span><span class="p">.</span><span class="nx">drawArrays</span><span class="p">(</span><span class="nx">oogl</span><span class="p">.</span><span class="nx">TRIANGLES</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span>
        <span class="nx">oogl</span><span class="p">.</span><span class="nx">flush</span><span class="p">();</span>
    <span class="p">});</span>
<span class="p">});</span>
</pre></div>

<p>Here we use the <code>AjaxProgram</code> utility class to load the shader pair asynchronously. The constructed <code>AjaxProgram</code> object refers to the <code>test.vert</code> and <code>test.frag</code> files because of its <code>test</code> first argument; the <code>.vert</code> and <code>.frag</code> extensions are added automatically.</p>

<p>The last calls (<code>program.use()</code> through <code>oogl.flush()</code>) are made asynchronously in a callback function passed to the <code>AjaxProgram</code> constructor that is called after the shaders have been loaded and compiled and the program has been linked.</p>

<p>Should you wish to apply per-vertex interpolated colors, you first modify the shaders as follows:</p>

<div class="highlight highlight-glsl"><pre><span class="k">precision</span> <span class="k">mediump</span> <span class="k">float</span><span class="p">;</span>

<span class="k">attribute</span> <span class="k">vec2</span> <span class="n">in_Vertex</span><span class="p">;</span>
<span class="k">attribute</span> <span class="k">vec3</span> <span class="n">in_Color</span><span class="p">;</span>

<span class="k">varying</span> <span class="k">vec3</span> <span class="n">ex_Color</span><span class="p">;</span>

<span class="k">void</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">gl_Position</span> <span class="o">=</span> <span class="k">vec4</span><span class="p">(</span><span class="n">in_Vertex</span><span class="p">,</span> <span class="mo">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
    <span class="n">ex_Color</span> <span class="o">=</span> <span class="n">in_Color</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>

<div class="highlight highlight-glsl"><pre><span class="k">precision</span> <span class="k">mediump</span> <span class="k">float</span><span class="p">;</span>

<span class="k">varying</span> <span class="k">vec3</span> <span class="n">ex_Color</span><span class="p">;</span>

<span class="k">void</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">gl_FragColor</span> <span class="o">=</span> <span class="k">vec4</span><span class="p">(</span><span class="n">ex_Color</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>

<p>And then use the <code>AttributeArrays</code> utility class in the JavaScript code:</p>

<div class="highlight highlight-javascript"><pre><span class="nx">OOGL</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">oogl</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">OOGL</span><span class="p">.</span><span class="nx">Context</span><span class="p">(</span><span class="s1">'canvas'</span><span class="p">);</span>
    <span class="nx">oogl</span><span class="p">.</span><span class="nx">clearColor</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
    <span class="nx">oogl</span><span class="p">.</span><span class="nx">clear</span><span class="p">(</span><span class="nx">oogl</span><span class="p">.</span><span class="nx">COLOR_BUFFER_BIT</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">arrays</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">oogl</span><span class="p">.</span><span class="nx">AttributeArrays</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
    <span class="nx">arrays</span><span class="p">.</span><span class="nx">add2f</span><span class="p">([</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">]);</span>
    <span class="nx">arrays</span><span class="p">.</span><span class="nx">add3f</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]);</span>
    <span class="nx">arrays</span><span class="p">.</span><span class="nx">bindAndPointer</span><span class="p">();</span>
    <span class="kd">var</span> <span class="nx">program</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">oogl</span><span class="p">.</span><span class="nx">AjaxProgram</span><span class="p">(</span><span class="s1">'test'</span><span class="p">,</span> <span class="p">[</span><span class="s1">'in_Vertex'</span><span class="p">,</span> <span class="s1">'in_Color'</span><span class="p">],</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="nx">program</span><span class="p">.</span><span class="nx">use</span><span class="p">();</span>
        <span class="nx">arrays</span><span class="p">.</span><span class="nx">drawTriangles</span><span class="p">();</span>
        <span class="nx">oogl</span><span class="p">.</span><span class="nx">flush</span><span class="p">();</span>
    <span class="p">});</span>
<span class="p">});</span>
</pre></div>

<p>For further experimenting, please refer to the <a href="http://71104.github.com/oogl.js/doc/">OOGL API Reference</a>, <a href="https://github.com/71104/oogl.js/wiki/Getting-Started-with-OOGL">Tutorials</a> and <a href="http://71104.github.com/oogl.js/demos/">Demos</a>.</p>

<h1>
<a name="math-stuff" class="anchor" href="#math-stuff"><span class="octicon octicon-link"></span></a>Math stuff</h1>

<p>OOGL includes mutable vector and matrix classes that perfectly integrate with the provided program and shader classes; you can easily use them to exchange variables with your shaders.</p>

<p>For example you can specify a <code>vec3</code> uniform variable in this way:</p>

<div class="highlight highlight-javascript"><pre><span class="kd">var</span> <span class="nx">v</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">OOGL</span><span class="p">.</span><span class="nx">Vector3</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">z</span><span class="p">);</span>
<span class="nx">program</span><span class="p">.</span><span class="nx">uniformVec3</span><span class="p">(</span><span class="s1">'Vector'</span><span class="p">,</span> <span class="nx">v</span><span class="p">);</span>
</pre></div>

<p>Similarly, you can specify a <code>mat3</code> uniform like this:</p>

<div class="highlight highlight-javascript"><pre><span class="kd">var</span> <span class="nx">m</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">OOGL</span><span class="p">.</span><span class="nx">Matrix3</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">]);</span>
<span class="nx">program</span><span class="p">.</span><span class="nx">uniformMat3</span><span class="p">(</span><span class="s1">'Matrix'</span><span class="p">,</span> <span class="nx">m</span><span class="p">);</span>
</pre></div>

<p>OOGL provides classes to handle 2-, 3- and 4-component vectors and 2x2, 3x3 and 4x4 matrices.</p>

<p>OOGL math classes are developed with a strong focus on performances and can be used to perform physics or other vector and matrix computations in JavaScript at maximum speed.</p>

<h1>
<a name="credits" class="anchor" href="#credits"><span class="octicon octicon-link"></span></a>Credits</h1>

<p>OOGL was created by <a href="https://github.com/71104">Alberto La Rocca</a> &lt;<a href="mailto:a71104@gmail.com">a71104@gmail.com</a>&gt; and is licensed under the MIT License.</p>
      </section>

    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-36961344-2");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>